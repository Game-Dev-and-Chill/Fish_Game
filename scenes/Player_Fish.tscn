[gd_scene load_steps=14 format=3 uid="uid://btyrci6457qxw"]

[ext_resource type="Script" path="res://scripts/Body.gd" id="1_iq0t7"]
[ext_resource type="Texture2D" uid="uid://djyjojug13kla" path="res://art/Fish/fish-removebg-preview.png" id="2_docw1"]
[ext_resource type="Shader" path="res://scenes/Enemy_Fish.gdshader" id="2_i5s8x"]
[ext_resource type="AudioStream" uid="uid://b578nrqant532" path="res://audio/eat.ogg" id="3_74ek7"]
[ext_resource type="Texture2D" uid="uid://camuxp0xodig0" path="res://art/Fish/powerup_fish.png" id="3_unft7"]
[ext_resource type="Script" path="res://scenes/game_over.gd" id="5_4e2wf"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_6c655"]
shader = ExtResource("2_i5s8x")
shader_parameter/rate = 2.5
shader_parameter/factor = 0.025
shader_parameter/color = Color(1, 1, 1, 1)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_40008"]
shader = ExtResource("2_i5s8x")
shader_parameter/rate = 2.5
shader_parameter/factor = 0.025
shader_parameter/color = Color(0, 1, 1, 0.686275)

[sub_resource type="Animation" id="Animation_lenxk"]
resource_name = "first_evolution"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Body/Sprite2D:material:shader_parameter/color")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(1, 1, 1, 1), Color(0, 1, 1, 1)]
}

[sub_resource type="Animation" id="Animation_u3cm8"]
resource_name = "second_evolution"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Body/Sprite2D:material:shader_parameter/color")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(0, 1, 1, 1), Color(1, 1, 0.137255, 1)]
}

[sub_resource type="Animation" id="Animation_ufnkg"]
resource_name = "third_evolution"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Body/Sprite2D:material:shader_parameter/color")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(1, 1, 0.137255, 1), Color(1, 0, 1, 1)]
}

[sub_resource type="Animation" id="Animation_acylu"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Body/Sprite2D:self_modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 1)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Body/Sprite2D:material:shader_parameter/color")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 1)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_idomm"]
_data = {
"1.5": SubResource("Animation_lenxk"),
"2.5": SubResource("Animation_u3cm8"),
"3.5": SubResource("Animation_ufnkg"),
"RESET": SubResource("Animation_acylu")
}

[node name="Player" type="Node2D"]

[node name="Body" type="CharacterBody2D" parent="." node_paths=PackedStringArray("sprite", "audio_eat") groups=["player"]]
script = ExtResource("1_iq0t7")
sprite = NodePath("Sprite2D")
normal_sprite = ExtResource("2_docw1")
powerup_sprite = ExtResource("3_unft7")
audio_eat = NodePath("../Eat")

[node name="Sprite2D" type="Sprite2D" parent="Body"]
modulate = Color(0.5, 1, 1, 1)
material = SubResource("ShaderMaterial_6c655")
position = Vector2(1, 0)
scale = Vector2(-0.06, 0.06)
texture = ExtResource("2_docw1")
flip_h = true

[node name="Area" type="Area2D" parent="Body" groups=["player_collider"]]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Body/Area"]
material = SubResource("ShaderMaterial_40008")
position = Vector2(1, 0)
rotation = 3.14159
scale = Vector2(0.06, -0.06)
polygon = PackedVector2Array(-47, -172.6, -47, -171.3, -74, -158.3, -74, -156.9, -99, -135.9, -99, -133.5, -115.1, -107, -117.4, -107, -159, -90.4, -159, -89.1, -186, -72.1, -186, -70.8, -213, -42.8, -213, -40.6, -226, -19.6, -226, -16.3, -231, -4.39999, -231, 4, -232.2, 15, -230.7, 15, -227.7, 32, -226.3, 32, -217.3, 53, -216, 53, -207, 66, -205.9, 66, -188.9, 84, -186.6, 84, -161, 102, -161, 106.4, -152.4, 128, -151, 128, -136, 148, -133.6, 148, -119.6, 158, -116.4, 158, -103.4, 163, -83, 163, -83, 160.8, -75, 152.8, -75, 143.5, -84.8, 124, -78.9, 124, -52.8, 148, -50.4, 148, -30.4, 157, -25.1, 157, 4, 159.2, 4, 158, 15, 158, 15, 156.5, 30, 152.5, 30, 150.7, 37, 141.7, 37, 128.7, 35.4, 124, 34.1, 124, 30.2, 117, 27.7, 117, 10, 101.1, 29, 88.1, 29, 86.8, 47.2, 69.6, 55.8, 85, 57.1, 85, 73.1, 103, 75.3, 103, 88.3, 114, 90.5, 114, 104.5, 122, 107.7, 122, 124.6, 129, 128.6, 129, 151.8, 134, 179.4, 134, 192, 128.3, 192, 126.5, 198, 116.6, 198, 103.8, 196.6, 98, 195.1, 98, 173, 58.5, 173, 55.6, 154.3, 12, 153, 12, 145.9, 1.8, 165, -19.2, 165, -21.4, 186, -54.4, 186, -56.6, 212, -112.6, 212, -115.5, 215, -121.5, 215, -137, 212.9, -137, 202.9, -148, 199.1, -148, 182, -149.1, 182, -147.8, 159, -144.8, 159, -143.5, 129, -135.5, 129, -134.3, 93, -118.3, 93, -117.1, 74, -106.2, 74, -104.9, 57, -89.9, 57, -87.7, 43.3, -72.3, 36.6, -77.7, 49, -89.1, 49, -93, 50.2, -106, 48.4, -106, 46.4, -112, 44.5, -112, 21, -124.2, 21, -125, 5, -138, 5, -139.4, -6.60001, -171, -8, -171, -11, -175, -13.7, -175, -18, -176.4, -18, -178.4)

[node name="game_over" type="Node" parent="Body"]
script = ExtResource("5_4e2wf")

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_idomm")
}

[node name="Eat" type="AudioStreamPlayer" parent="."]
stream = ExtResource("3_74ek7")
volume_db = -5.0
